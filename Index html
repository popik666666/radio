<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8" />
<title>Rádio s ochranou heslem</title>
<style>
  #player, #adminPanel { display: none; margin-top: 20px; }
</style>
</head>
<body>

<h2>Vstup do rádia</h2>

<div id="loginForm">
  <label>Zadejte heslo pro posluchače:</label><br/>
  <input type="password" id="listenerPassword" />
  <button onclick="checkListenerPassword()">Přihlásit</button>
</div>

<div id="player">
  <h3>Posloucháte rádio</h3>
  <iframe src="http://popik666.on-air.fm/free/" width="300" height="60" frameborder="0" allow="autoplay"></iframe><br/>
  <button onclick="logoutListener()">Odhlásit se</button>
</div>

<hr/>

<h2>Admin přihlášení</h2>
<div id="adminLoginForm">
  <label>Zadejte admin heslo:</label><br/>
  <input type="password" id="adminPassword" />
  <button onclick="adminLogin()">Přihlásit jako admin</button>
</div>

<div id="adminPanel">
  <h3>Admin panel</h3>
  <label>Změnit heslo pro posluchače:</label><br/>
  <input type="password" id="newListenerPassword" placeholder="Nové heslo" />
  <button onclick="changeListenerPassword()">Změnit heslo</button><br/><br/>
  <button onclick="adminLogout()">Odhlásit admina</button>
</div>

<script>
  // Výchozí hesla
  let listenerPassword = "321456";
  const adminPass = "p666rp"; // Nové admin heslo

  function checkListenerPassword() {
    const pass = document.getElementById('listenerPassword').value;
    if(pass === listenerPassword){
      document.getElementById('loginForm').style.display = 'none';
      document.getElementById('player').style.display = 'block';
      alert("Vítejte u rádia!");
    } else {
      alert("Špatné heslo, zkuste to znovu.");
    }
  }

  function logoutListener() {
    document.getElementById('listenerPassword').value = '';
    document.getElementById('player').style.display = 'none';
    document.getElementById('loginForm').style.display = 'block';
  }

  function adminLogin() {
    const pass = document.getElementById('adminPassword').value;
    if(pass === adminPass){
      document.getElementById('adminLoginForm').style.display = 'none';
      document.getElementById('adminPanel').style.display = 'block';
      alert("Přihlášen admin.");
    } else {
      alert("Špatné admin heslo.");
    }
  }

  function changeListenerPassword() {
    const newPass = document.getElementById('newListenerPassword').value;
    if(newPass.length < 4) {
      alert("Heslo musí mít alespoň 4 znaky.");
      return;
    }
    listenerPassword = newPass;
    alert("Heslo pro posluchače změněno na: " + newPass);
    document.getElementById('newListenerPassword').value = '';
  }

  function adminLogout() {
    document.getElementById('adminPassword').value = '';
    document.getElementById('adminPanel').style.display = 'none';
    document.getElementById('adminLoginForm').style.display = 'block';
    alert("Admin odhlášen.");
  }
</script>

</body>
</html>
